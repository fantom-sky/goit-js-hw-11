{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst keyAPI = \"54842065-4aabfdb1463b75fbfdf76b66f\";\nconst urlAPI = \"https://pixabay.com/api/\";\n\n\nexport function getImagesByQuery(query) {\n    return axios.get(urlAPI, {params:{\n        \"key\": keyAPI,\n        \"q\": `${query}`,\n        \"image_type\": \"photo\",\n        \"orientation\": \"horizontal\",\n        \"safesearch\": true\n        }\n    })\n    .then(response => response.data.hits);\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst galleryListEl = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\nconst gallery = new SimpleLightbox('.gallery a', {\n   captionsData: 'alt',\n   captionDelay: 250,   \n});\n\nexport function createGallery(images) { \n    const imgGallery = images\n        .map(\n            ({\n                webformatURL,\n                largeImageURL,\n                tags,\n                likes,\n                views,\n                comments,\n                downloads,\n            }) => `\n            <li class=\"gallery-item\">\n                <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img\n                    class=\"gallery-image\"\n                    src=\"${webformatURL}\"\n                    alt=\"${tags}\"\n                    />\n                </a>\n                <ul class=\"gallery-stat-list\">\n                    <li class=\"gallery-stat-item\">\n                        <p><b>Likes</b></p>\n                        <p>${likes}</p>\n                    </li>\n                    <li class=\"gallery-stat-item\">\n                        <p><b>Views</b></p>\n                        <p>${views}</p>\n                    </li>\n                    <li class=\"gallery-stat-item\">\n                        <p><b>Comments</b></p>\n                        <p>${comments}</p>\n                    </li>\n                    <li class=\"gallery-stat-item\">\n                        <p><b>Downloads</b></p>\n                        <p>${downloads}</p>\n                    </li>\n                </ul>\n            </li>\n            `)\n        .join(\"\");\n    \n    galleryListEl.insertAdjacentHTML(\"beforeend\", imgGallery);\n    gallery.refresh();\n}\n\n\nexport function clearGallery() {\n    galleryListEl.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.add('loader');\n}\n\nexport function hideLoader() {\n    loader.classList.remove('loader');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport { clearGallery, createGallery } from './js/render-functions';\n\nimport { hideLoader, showLoader } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nhideLoader();\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const form = event.target;\n    const searchQuery = form.elements['search-text'].value.trim();\n    if (!searchQuery) {\n        return iziToast.warning({\n            title: 'Caution',\n            message: 'Please enter your query!',\n            position: 'topRight',\n            timeout: 7000,\n        });\n    }\n\n    clearGallery();\n\n    showLoader();\n    userQueryProcessing(searchQuery);\n}\n\n\nfunction userQueryProcessing(query){\n    getImagesByQuery(query)\n    .then(responseHits => {\n        if (responseHits.length > 0) {\n            createGallery(responseHits);           \n        } else {\n            iziToast.info({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                timeout: 7000,\n            });\n        }\n    })\n    .catch(() => {\n        iziToast.error({\n            message: 'Something went wrong! Please try new query!',\n            position: 'center',\n            timeout: 7000,\n        });\n    })\n    .finally(() => {\n        form.reset();\n        hideLoader();\n    })   \n}\n\n\n"],"names":["keyAPI","urlAPI","getImagesByQuery","query","axios","response","galleryListEl","loader","gallery","SimpleLightbox","createGallery","images","imgGallery","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","handleSubmit","event","searchQuery","iziToast","userQueryProcessing","responseHits"],"mappings":"owBAEA,MAAMA,EAAS,qCACTC,EAAS,2BAGR,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAIH,EAAQ,CAAC,OAAO,CAC7B,IAAOD,EACP,EAAK,GAAGG,CAAK,GACb,WAAc,QACd,YAAe,aACf,WAAc,EACb,CACT,CAAK,EACA,KAAKE,GAAYA,EAAS,KAAK,IAAI,CACxC,CCZA,MAAMC,EAAgB,SAAS,cAAc,UAAU,EACjDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAU,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACjB,CAAC,EAEM,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAaD,EACd,IACG,CAAC,CACG,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CAChB,IAAkB;AAAA;AAAA,gDAE8BL,CAAa;AAAA;AAAA;AAAA,2BAGlCD,CAAY;AAAA,2BACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAMFC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,aAIzB,EACJ,KAAK,EAAE,EAEZb,EAAc,mBAAmB,YAAaM,CAAU,EACxDJ,EAAQ,QAAO,CACnB,CAGO,SAASY,GAAe,CAC3Bd,EAAc,UAAY,EAC9B,CAEO,SAASe,GAAa,CACzBd,EAAO,UAAU,IAAI,QAAQ,CACjC,CAEO,SAASe,GAAa,CACzBf,EAAO,UAAU,OAAO,QAAQ,CACpC,CC5DA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAC3CD,IAEAC,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAGpB,MAAMC,EADOD,EAAM,OACM,SAAS,aAAa,EAAE,MAAM,OACvD,GAAI,CAACC,EACD,OAAOC,EAAS,QAAQ,CACpB,MAAO,UACP,QAAS,2BACT,SAAU,WACV,QAAS,GACrB,CAAS,EAGLP,IAEAC,IACAO,EAAoBF,CAAW,CACnC,CAGA,SAASE,EAAoBzB,EAAM,CAC/BD,EAAiBC,CAAK,EACrB,KAAK0B,GAAgB,CACdA,EAAa,OAAS,EACtBnB,EAAcmB,CAAY,EAE1BF,EAAS,KAAK,CACV,QAAS,2EACT,SAAU,WACV,QAAS,GACzB,CAAa,CAEb,CAAK,EACA,MAAM,IAAM,CACTA,EAAS,MAAM,CACX,QAAS,8CACT,SAAU,SACV,QAAS,GACrB,CAAS,CACT,CAAK,EACA,QAAQ,IAAM,CACXJ,EAAK,MAAK,EACVD,GACR,CAAK,CACL"}